define(["require", "exports", "./Map2D"], function (require, exports, Map2D_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var Direction;
    (function (Direction) {
        Direction[Direction["TOP"] = 2] = "TOP";
        Direction[Direction["BOTTOM"] = 3] = "BOTTOM";
        Direction[Direction["LEFT"] = 4] = "LEFT";
        Direction[Direction["RIGHT"] = 5] = "RIGHT";
    })(Direction = exports.Direction || (exports.Direction = {}));
    var TemplateRoom = /** @class */ (function () {
        function TemplateRoom(data) {
            this.tiles = new Map2D_1.Map2D();
            this.doorways = [];
            this.doorways[Direction.TOP] = -1;
            this.doorways[Direction.BOTTOM] = -1;
            this.doorways[Direction.LEFT] = -1;
            this.doorways[Direction.RIGHT] = -1;
            this.width = data[0].length;
            this.height = data.length;
            for (var i = 0; i < this.width; i++) {
                for (var j = 0; j < this.height; j++) {
                    this.tiles.set(i, j, data[j][i]);
                }
            }
            for (var i = 0; i < this.width; i++) {
                if (this.tiles.get(i, 0) === 0) {
                    this.doorways[Direction.TOP] = i;
                    this.tiles.set(i, 0, Direction.TOP);
                }
                if (this.tiles.get(i, this.height - 1) === 0) {
                    this.doorways[Direction.BOTTOM] = i;
                    this.tiles.set(i, this.height - 1, Direction.BOTTOM);
                }
            }
            for (var i = 0; i < this.height; i++) {
                if (this.tiles.get(0, i) === 0) {
                    this.doorways[Direction.LEFT] = i;
                    this.tiles.set(0, i, Direction.LEFT);
                }
                if (this.tiles.get(this.width - 1, i) === 0) {
                    this.doorways[Direction.RIGHT] = i;
                    this.tiles.set(this.width - 1, i, Direction.RIGHT);
                }
            }
        }
        TemplateRoom.prototype.toString = function () {
            var repr = "";
            for (var j = 0; j < this.height; j++) {
                for (var i = 0; i < this.width; i++) {
                    switch (this.tiles.get(i, j)) {
                        case 1:
                            repr += "██";
                            break;
                        case 2:
                            repr += "^^";
                            break;
                        case 3:
                            repr += "vv";
                            break;
                        case 4:
                            repr += "<<";
                            break;
                        case 5:
                            repr += ">>";
                            break;
                        default: repr += "  ";
                    }
                }
                repr += "\n";
            }
            return repr;
        };
        return TemplateRoom;
    }());
    exports.TemplateRoom = TemplateRoom;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGVtcGxhdGVSb29tLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL21hcC9UZW1wbGF0ZVJvb20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBRUEsSUFBWSxTQUtYO0lBTEQsV0FBWSxTQUFTO1FBQ2pCLHVDQUFPLENBQUE7UUFDUCw2Q0FBVSxDQUFBO1FBQ1YseUNBQVEsQ0FBQTtRQUNSLDJDQUFTLENBQUE7SUFDYixDQUFDLEVBTFcsU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUFLcEI7SUFFRDtRQVFJLHNCQUFZLElBQWdCO1lBSnJCLFVBQUssR0FBRyxJQUFJLGFBQUssRUFBVSxDQUFDO1lBRTVCLGFBQVEsR0FBYSxFQUFFLENBQUM7WUFHM0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEdBQVUsQ0FBQyxDQUFDLENBQUM7WUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQU8sQ0FBQyxDQUFDLENBQUM7WUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQVMsQ0FBQyxDQUFDLENBQUM7WUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQVEsQ0FBQyxDQUFDLENBQUM7WUFDekMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQzVCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUMxQixHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFHLEVBQUUsQ0FBQztnQkFDbkMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENB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SUFBSSxJQUFJLElBQUksQ0FBQzs0QkFBQyxLQUFLLENBQUM7d0JBQzVCLEtBQUssQ0FBQzs0QkFBRSxJQUFJLElBQUksSUFBSSxDQUFDOzRCQUFDLEtBQUssQ0FBQzt3QkFDNUIsS0FBSyxDQUFDOzRCQUFFLElBQUksSUFBSSxJQUFJLENBQUM7NEJBQUMsS0FBSyxDQUFDO3dCQUM1QixLQUFLLENBQUM7NEJBQUUsSUFBSSxJQUFJLElBQUksQ0FBQzs0QkFBQyxLQUFLLENBQUM7d0JBQzVCLEtBQUssQ0FBQzs0QkFBRSxJQUFJLElBQUksSUFBSSxDQUFDOzRCQUFDLEtBQUssQ0FBQzt3QkFDNUIsU0FBUyxJQUFJLElBQUksSUFBSSxDQUFDO29CQUMxQixDQUFDO2dCQUNMLENBQUM7Z0JBQ0QsSUFBSSxJQUFJLElBQUksQ0FBQztZQUNqQixDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBQ0wsbUJBQUM7SUFBRCxDQUFDLEFBNURELElBNERDO0lBNURZLG9DQUFZIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFwMkQgfSBmcm9tIFwiLi9NYXAyRFwiO1xyXG5cclxuZXhwb3J0IGVudW0gRGlyZWN0aW9uIHtcclxuICAgIFRPUCA9IDIsXHJcbiAgICBCT1RUT00gPSAzLFxyXG4gICAgTEVGVCA9IDQsXHJcbiAgICBSSUdIVCA9IDUsXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZVJvb20ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcclxuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyB0aWxlcyA9IG5ldyBNYXAyRDxudW1iZXI+KCk7XHJcblxyXG4gICAgcHVibGljIGRvb3J3YXlzOiBudW1iZXJbXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IG51bWJlcltdW10pIHtcclxuICAgICAgICB0aGlzLmRvb3J3YXlzW0RpcmVjdGlvbi5UT1BdICAgICAgICA9IC0xO1xyXG4gICAgICAgIHRoaXMuZG9vcndheXNbRGlyZWN0aW9uLkJPVFRPTV0gICAgID0gLTE7XHJcbiAgICAgICAgdGhpcy5kb29yd2F5c1tEaXJlY3Rpb24uTEVGVF0gICAgICAgPSAtMTtcclxuICAgICAgICB0aGlzLmRvb3J3YXlzW0RpcmVjdGlvbi5SSUdIVF0gICAgICA9IC0xO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBkYXRhWzBdLmxlbmd0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53aWR0aDsgaSArKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuaGVpZ2h0OyBqICsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVzLnNldChpLCBqLCBkYXRhW2pdW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLndpZHRoOyBpICsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbGVzLmdldChpLCAwKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb29yd2F5c1tEaXJlY3Rpb24uVE9QXSA9IGk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVzLnNldChpLCAwLCBEaXJlY3Rpb24uVE9QKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy50aWxlcy5nZXQoaSwgdGhpcy5oZWlnaHQgLSAxKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb29yd2F5c1tEaXJlY3Rpb24uQk9UVE9NXSA9IGk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVzLnNldChpLCB0aGlzLmhlaWdodCAtIDEsIERpcmVjdGlvbi5CT1RUT00pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oZWlnaHQ7IGkgKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGlsZXMuZ2V0KDAsIGkpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvb3J3YXlzW0RpcmVjdGlvbi5MRUZUXSA9IGk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVzLnNldCgwLCBpLCBEaXJlY3Rpb24uTEVGVCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMudGlsZXMuZ2V0KHRoaXMud2lkdGggLSAxLCBpKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb29yd2F5c1tEaXJlY3Rpb24uUklHSFRdID0gaTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGlsZXMuc2V0KHRoaXMud2lkdGggLSAxLCBpLCBEaXJlY3Rpb24uUklHSFQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgICAgICBsZXQgcmVwciA9IFwiXCI7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmhlaWdodDsgaiArKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMud2lkdGg7IGkgKyspIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy50aWxlcy5nZXQoaSwgaikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJlcHIgKz0gXCLilojilohcIjsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXByICs9IFwiXl5cIjsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXByICs9IFwidnZcIjsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXByICs9IFwiPDxcIjsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXByICs9IFwiPj5cIjsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmVwciArPSBcIiAgXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVwciArPSBcIlxcblwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVwcjtcclxuICAgIH1cclxufSJdfQ==